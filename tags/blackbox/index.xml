<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>blackbox on My technical gists</title><link>https://dmachard.github.io/tags/blackbox/</link><description>Recent content in blackbox on My technical gists</description><generator>Hugo -- gohugo.io</generator><language>en-US</language><lastBuildDate>Sat, 04 Dec 2021 00:00:00 +0100</lastBuildDate><atom:link href="https://dmachard.github.io/tags/blackbox/index.xml" rel="self" type="application/rss+xml"/><item><title>Prometheus: monitor dns records with blackbox exporter</title><link>https://dmachard.github.io/posts/0043-blackbox-prometheus-dns/</link><pubDate>Sat, 04 Dec 2021 00:00:00 +0100</pubDate><guid>https://dmachard.github.io/posts/0043-blackbox-prometheus-dns/</guid><description>Example to monitor DNS records with the blackbox exporter
Table of contents Blackbox Prometheus Grafana Blackbox Configuration blackbox.yml
modules: www.google.com: prober: dns timeout: 5s dns: transport_protocol: &amp;#34;udp&amp;#34; preferred_ip_protocol: &amp;#34;ip4&amp;#34; query_name: &amp;#34;www.google.com&amp;#34; query_type: &amp;#34;A&amp;#34; valid_rcodes: - NOERROR www.microsoft.com: prober: dns timeout: 5s dns: transport_protocol: &amp;#34;udp&amp;#34; preferred_ip_protocol: &amp;#34;ip4&amp;#34; query_name: &amp;#34;www.microsoft.com&amp;#34; query_type: &amp;#34;A&amp;#34; valid_rcodes: - NOERROR Reload the blackbox config
curl -X POST http://&amp;lt;ip_blackbox&amp;gt;:9115/-/reload Prometheus - job_name: &amp;#39;blackbox-dns-monitor&amp;#39; scrape_interval: 5s metrics_path: /probe relabel_configs: # Populate domain label with domain portion of __address__ - source_labels: [__address__] regex: (.</description></item></channel></rss>